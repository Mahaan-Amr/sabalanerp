# ุชุญูู ุฌุงูุน ุณูฺฏ ุญุฌู (Volumetric/3D Stone) - ุฑุงูููุง ูพุงุฏูโุณุงุฒ

## ๐ ููุฑุณุช ูุทุงูุจ
1. [ููุฏูู ู ุชุนุฑู ุณูฺฏ ุญุฌู](#1-ููุฏูู-ู-ุชุนุฑู-ุณูฺฏ-ุญุฌู)
2. [ุงุจุนุงุฏ ู ูุดุฎุตุงุช ุณูฺฏ ุญุฌู](#2-ุงุจุนุงุฏ-ู-ูุดุฎุตุงุช-ุณูฺฏ-ุญุฌู)
3. [ูุญูู ูุฑูุด ุณูฺฏ ุญุฌู ุฏุฑ ุตูุนุช](#3-ูุญูู-ูุฑูุด-ุณูฺฏ-ุญุฌู-ุฏุฑ-ุตูุนุช)
4. [ููุงุณู ุจุง ุณูฺฏ ุทูู ู ุงุณูุจ](#4-ููุงุณู-ุจุง-ุณูฺฏ-ุทูู-ู-ุงุณูุจ)
5. [ุชุญูู ฺฉุฏุจุณ ูุนู](#5-ุชุญูู-ฺฉุฏุจุณ-ูุนู)
6. [ุชูุงูุชโูุง ฺฉูุฏ ุจุฑุง ูพุงุฏูโุณุงุฒ](#6-ุชูุงูุชโูุง-ฺฉูุฏ-ุจุฑุง-ูพุงุฏูโุณุงุฒ)
7. [ุงูุฒุงูุงุช ูพุงุฏูโุณุงุฒ](#7-ุงูุฒุงูุงุช-ูพุงุฏู-ุณุงุฒ)
8. [ูพุดููุงุฏุงุช ุทุฑุงุญ](#8-ูพุดููุงุฏุงุช-ุทุฑุงุญ)

---

## 1. ููุฏูู ู ุชุนุฑู ุณูฺฏ ุญุฌู

### 1.1 ุชุนุฑู
**ุณูฺฏ ุญุฌู (Volumetric Stone)** ุจู ุจููฺฉโูุง ู ูุทุนุงุช ุณูโุจุนุฏ ุณูฺฏ ุทุจุน ฺฏูุชู ูโุดูุฏ ฺฉู ุฏุงุฑุง ุณู ุจุนุฏ ุงุตู ูุณุชูุฏ:
- **ุทูู (Length)**: ุจุนุฏ ุงูู
- **ุนุฑุถ (Width)**: ุจุนุฏ ุฏูู  
- **ุงุฑุชูุงุน/ุนูู (Height/Depth)**: ุจุนุฏ ุณูู

ุงู ููุน ุณูฺฏ ุจุฑุง ฺฉุงุฑุจุฑุฏูุง ุฒุฑ ุงุณุชูุงุฏู ูโุดูุฏ:
- ุณุชููโูุง ุณูฺฏ (Stone Columns)
- ูพุงูโูุง ุณุงุฎุชูุงู (Building Foundations)
- ุจููฺฉโูุง ุณุงุฎุชูุงู (Construction Blocks)
- ูุฌุณููโุณุงุฒ ู ุชุฒุฆูุงุช (Sculptures & Decorations)
- ูพูโูุง ู ุณุงุฒูโูุง ูููุฏุณ (Bridges & Engineering Structures)
- ุฏูุงุฑูุง ุญุงุฆู (Retaining Walls)

### 1.2 ูฺฺฏโูุง ฺฉูุฏ
- **ุณู ุจุนุฏ**: ุจุฑุฎูุงู ุณูฺฏ ุทูู (2D) ู ุงุณูุจ (2D)ุ ุณูฺฏ ุญุฌู ุฏุงุฑุง ุงุฑุชูุงุน ุงุณุช
- **ูุญุงุณุจู ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ**: ููุชโฺฏุฐุงุฑ ุจุฑ ุงุณุงุณ ุญุฌู (ูุชุฑ ูฺฉุนุจ) ูู ูุณุงุญุช (ูุชุฑ ูุฑุจุน)
- **ุจุฑุด ุณู ุจุนุฏ**: ูโุชูุงู ุฏุฑ ูุฑ ุณู ุฌูุช (ุทููุ ุนุฑุถุ ุงุฑุชูุงุน) ุจุฑุด ุฏุงุฏ
- **ุจุงููุงูุฏู ูพฺุฏู**: ุจุงููุงูุฏูโูุง ูโุชูุงููุฏ ุจููฺฉโูุง ุณูโุจุนุฏ ุจุงุดูุฏ
- **ูุฒู ูุงุจู ุชูุฌู**: ุจู ุฏูู ุญุฌู ุจุงูุงุ ูุฒู ุจุดุชุฑ ุฏุงุฑูุฏ

---

## 2. ุงุจุนุงุฏ ู ูุดุฎุตุงุช ุณูฺฏ ุญุฌู

### 2.1 ุงุจุนุงุฏ ุงุณุชุงูุฏุงุฑุฏ

#### **ุจููฺฉโูุง ุณุงุฎุชูุงู (Construction Blocks)**
- **ุทูู**: 20 ุชุง 100 ุณุงูุชโูุชุฑ
- **ุนุฑุถ**: 10 ุชุง 50 ุณุงูุชโูุชุฑ
- **ุงุฑุชูุงุน**: 10 ุชุง 30 ุณุงูุชโูุชุฑ
- **ุญุฌู**: ูุนูููุงู 0.01 ุชุง 1.5 ูุชุฑ ูฺฉุนุจ

#### **ุณุชููโูุง ุณูฺฏ (Stone Columns)**
- **ูุทุฑ/ุทูู**: 30 ุชุง 200 ุณุงูุชโูุชุฑ
- **ุงุฑุชูุงุน**: 100 ุชุง 500 ุณุงูุชโูุชุฑ (ุง ุจุดุชุฑ)
- **ุญุฌู**: 0.1 ุชุง 15 ูุชุฑ ูฺฉุนุจ

#### **ุจููฺฉโูุง ุจุฒุฑฺฏ (Large Blocks)**
- **ุงุจุนุงุฏ**: 100cm ร 100cm ร 100cm ุชุง 300cm ร 200cm ร 150cm
- **ุญุฌู**: 1 ุชุง 9 ูุชุฑ ูฺฉุนุจ

### 2.2 ูุงุญุฏูุง ุงูุฏุงุฒูโฺฏุฑ

- **ุทูู**: ุณุงูุชโูุชุฑ (cm) ุง ูุชุฑ (m)
- **ุนุฑุถ**: ุณุงูุชโูุชุฑ (cm) ุง ูุชุฑ (m)
- **ุงุฑุชูุงุน**: ุณุงูุชโูุชุฑ (cm) ุง ูุชุฑ (m)
- **ุญุฌู**: ูุชุฑ ูฺฉุนุจ (mยณ) = ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน

### 2.3 ูุซุงู ูุญุงุณุจู ุญุฌู

```
ูุซุงู 1: ุจููฺฉ ฺฉูฺฺฉ
ุทูู: 50 cm = 0.5 m
ุนุฑุถ: 30 cm = 0.3 m
ุงุฑุชูุงุน: 20 cm = 0.2 m
ุญุฌู = 0.5 ร 0.3 ร 0.2 = 0.03 mยณ

ูุซุงู 2: ุณุชูู ุณูฺฏ
ูุทุฑ (ุทูู): 80 cm = 0.8 m
ูุทุฑ (ุนุฑุถ): 80 cm = 0.8 m
ุงุฑุชูุงุน: 300 cm = 3 m
ุญุฌู = 0.8 ร 0.8 ร 3 = 1.92 mยณ
```

---

## 3. ูุญูู ูุฑูุด ุณูฺฏ ุญุฌู ุฏุฑ ุตูุนุช

### 3.1 ุฑูุดโูุง ูุฑูุด

#### **ุงูู) ูุฑูุด ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ (Cubic Meter Pricing)**
- ููุช ูพุงู ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ
- **ูุฑููู**: ููุช ฺฉู = ุญุฌู (mยณ) ร ููุช ูุฑ ูุชุฑ ูฺฉุนุจ
- **ูุซุงู**: ฺฉ ุจููฺฉ 0.5 mยณ ร 2,000,000 ุชููุงู = 1,000,000 ุชููุงู

#### **ุจ) ูุฑูุด ุจุฑ ุงุณุงุณ ูุทุนู ฺฉุงูู (Whole Block)**
- ุจุนุถ ูุฑูุดูุฏฺฏุงู ุจููฺฉ ุฑุง ุจู ุตูุฑุช ฺฉุงูู ูโูุฑูุดูุฏ
- ููุช ูโุชูุงูุฏ ุดุงูู ูุฒูู ุจุฑุด ุงููู ุจุงุดุฏ
- ููุงุณุจ ุจุฑุง ูพุฑูฺูโูุง ุจุฒุฑฺฏ

#### **ุฌ) ูุฑูุด ุจุฑ ุงุณุงุณ ูุทุนุงุช ุจุฑุด ุฎูุฑุฏู (Cut Pieces)**
- ุจููฺฉ ุจุฑุด ูโุฎูุฑุฏ ู ูุทุนุงุช ฺฉูฺฺฉโุชุฑ ูุฑูุฎุชู ูโุดูุฏ
- ุจุงููุงูุฏู ุจููฺฉ ูโุชูุงูุฏ ุจุฑุง ูุฑูุด ุจุนุฏ ูฺฏู ุฏุงุดุชู ุดูุฏ

### 3.2 ุนูุงูู ูุคุซุฑ ุจุฑ ููุช

1. **ููุน ุณูฺฏ**: ฺฏุฑุงูุชุ ูุฑูุฑุ ุชุฑุงูุฑุชูุ ุจุงุฒุงูุช
2. **ุงุจุนุงุฏ**: ุจููฺฉโูุง ุจุฒุฑฺฏโุชุฑ ูุนูููุงู ููุช ุจุงูุงุชุฑ ุฏุงุฑูุฏ
3. **ฺฉูุช**: ฺฉูุช ุณุทุญุ ฺฉููุงุฎุช ุฑูฺฏ
4. **ููุจุน (ูุนุฏู)**: ูุนุงุฏู ุฎุงุต ููุช ุจุงูุงุชุฑ ุฏุงุฑูุฏ
5. **ูพุฑุฏุงุฎุช (Finish)**: ุตููุ ูุงุชุ ุจุฑุงู
6. **ูุฒู**: ูุฒูู ุญูู ู ููู ุจุฑ ุงุณุงุณ ูุฒู

### 3.3 ูุฑุขูุฏ ูุฑูุด ูุนููู

1. **ุงูุชุฎุงุจ ุจููฺฉ**: ูุดุชุฑ ุจููฺฉ ุฑุง ุงุฒ ุงูุจุงุฑ ุงูุชุฎุงุจ ูโฺฉูุฏ
2. **ุงูุฏุงุฒูโฺฏุฑ**: ุงุจุนุงุฏ ููุฑุฏ ูุงุฒ ูุดุชุฑ ุงูุฏุงุฒูโฺฏุฑ ูโุดูุฏ (ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน)
3. **ุจุฑุด**: ุจููฺฉ ุจุฑ ุงุณุงุณ ูุงุฒ ูุดุชุฑ ุจุฑุด ูโุฎูุฑุฏ (ุฏุฑ ฺฉุ ุฏูุ ุง ุณู ุฌูุช)
4. **ูุญุงุณุจู ููุช**: 
   - ููุช ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ ุงุณุชูุงุฏู ุดุฏู
   - ูุฒูู ุจุฑุด ุงุถุงูู ูโุดูุฏ (ุจุฑ ุงุณุงุณ ูุชุฑ ุจุฑุด)
   - ุจุงููุงูุฏู ุจููฺฉ ุจุฑุง ุงุณุชูุงุฏู ุจุนุฏ ูฺฏู ุฏุงุดุชู ูโุดูุฏ
5. **ูพุฑุฏุงุฒุด**: ูพุฑุฏุงุฎุชุ ูุจูโฺฉุงุฑุ ู ุณุงุฑ ุฎุฏูุงุช

### 3.4 ูุฏุฑุช ุจุงููุงูุฏู (Remaining Block Management)

- **ุจุงููุงูุฏู ุจููฺฉ**: ูพุณ ุงุฒ ุจุฑุดุ ุจุงููุงูุฏู ุจููฺฉ ุจุงุฏ ูุฏุฑุช ุดูุฏ
- **ุฐุฎุฑูโุณุงุฒ**: ุจุงููุงูุฏูโูุง ุจุงุฏ ุฏุฑ ุงูุจุงุฑ ุฐุฎุฑู ุดููุฏ
- **ูุฑูุด ูุฌุฏุฏ**: ุจุงููุงูุฏูโูุง ูโุชูุงููุฏ ุจุฑุง ูพุฑูฺูโูุง ุฏฺฏุฑ ูุฑูุฎุชู ุดููุฏ
- **ุฑุฏุงุจ**: ุจุงุฏ ุจุชูุงู ุจุงููุงูุฏูโูุง ุฑุง ุฑุฏุงุจ ฺฉุฑุฏ (ุจุง ุงุจุนุงุฏ ุณูโุจุนุฏ)

---

## 4. ููุงุณู ุจุง ุณูฺฏ ุทูู ู ุงุณูุจ

### 4.1 ููุงุณู ุงุจุนุงุฏ

| ูฺฺฏ | ุณูฺฏ ุทูู | ุณูฺฏ ุงุณูุจ | ุณูฺฏ ุญุฌู |
|------|---------|---------|---------|
| **ุงุจุนุงุฏ** | 2 ุจุนุฏ (ุทูู ร ุนุฑุถ) | 2 ุจุนุฏ (ุทูู ร ุนุฑุถ) | 3 ุจุนุฏ (ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน) |
| **ูุงุญุฏ ูุญุงุณุจู** | ูุชุฑ ูุฑุจุน (mยฒ) | ูุชุฑ ูุฑุจุน (mยฒ) | ูุชุฑ ูฺฉุนุจ (mยณ) |
| **ุจุฑุด** | ฺฉ ุฌูุช (ุทูู) | ุฏู ุฌูุช (ุทูู + ุนุฑุถ) | ุณู ุฌูุช (ุทูู + ุนุฑุถ + ุงุฑุชูุงุน) |
| **ุจุงููุงูุฏู** | ฺฉ ูุทุนู 2D | ฺูุฏ ูุทุนู 2D | ฺูุฏ ุจููฺฉ 3D |
| **ููุงุด ุจุตุฑ** | 2D Canvas | 2D Canvas | 3D Visualization |

### 4.2 ููุงุณู ูุญุงุณุจุงุช

#### **ุณูฺฏ ุทูู**
```
ูุณุงุญุช = ุทูู ร ุนุฑุถ
ููุช = ูุณุงุญุช ร ููุช ูุฑ ูุชุฑ ูุฑุจุน
```

#### **ุณูฺฏ ุงุณูุจ**
```
ูุณุงุญุช = ุทูู ร ุนุฑุถ
ููุช = ูุณุงุญุช ร ููุช ูุฑ ูุชุฑ ูุฑุจุน
ูุฒูู ุจุฑุด = (ุจุฑุด ุทูู + ุจุฑุด ุนุฑุถ) ร ููุช ูุฑ ูุชุฑ
```

#### **ุณูฺฏ ุญุฌู**
```
ุญุฌู = ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน
ููุช = ุญุฌู ร ููุช ูุฑ ูุชุฑ ูฺฉุนุจ
ูุฒูู ุจุฑุด = (ุจุฑุด ุทูู + ุจุฑุด ุนุฑุถ + ุจุฑุด ุงุฑุชูุงุน) ร ููุช ูุฑ ูุชุฑ
```

### 4.3 ููุงุณู ุจุฑุด

#### **ุณูฺฏ ุทูู - ุจุฑุด ฺฉ ุจุนุฏ**
```
ุจููฺฉ ุงุตู: 300cm ร 60cm
ูุทุนู ููุฑุฏ ูุงุฒ: 300cm ร 25cm

ุจุฑุด: 1 ุจุฑุด ุทูู (60cm โ 25cm + 35cm)
ุจุงููุงูุฏู: 1 ูุทุนู (300cm ร 35cm)
```

#### **ุณูฺฏ ุงุณูุจ - ุจุฑุด ุฏู ุจุนุฏ**
```
ุงุณูุจ ุงุตู: 300cm ร 200cm
ูุทุนู ููุฑุฏ ูุงุฒ: 150cm ร 100cm

ุจุฑุด: 
- 1 ุจุฑุด ุทูู (300cm โ 150cm + 150cm)
- 1 ุจุฑุด ุนุฑุถ (200cm โ 100cm + 100cm)

ุจุงููุงูุฏู: 3 ูุทุนู 2D
```

#### **ุณูฺฏ ุญุฌู - ุจุฑุด ุณู ุจุนุฏ**
```
ุจููฺฉ ุงุตู: 100cm ร 80cm ร 60cm
ูุทุนู ููุฑุฏ ูุงุฒ: 50cm ร 40cm ร 30cm

ุจุฑุด:
- 1 ุจุฑุด ุทูู (100cm โ 50cm + 50cm)
- 1 ุจุฑุด ุนุฑุถ (80cm โ 40cm + 40cm)
- 1 ุจุฑุด ุงุฑุชูุงุน (60cm โ 30cm + 30cm)

ุจุงููุงูุฏู: 7 ุจููฺฉ 3D
```

---

## 5. ุชุญูู ฺฉุฏุจุณ ูุนู

### 5.1 ุณุงุฎุชุงุฑ ูุนู ูุญุตููุงุช

#### **ููุน ูุญุตูู (Product Type)**
```typescript
productType: 'longitudinal' | 'stair' | 'slab' | 'volumetric'
```

ุฏุฑ ุญุงู ุญุงุถุฑ:
- โ `longitudinal`: ูพุงุฏูโุณุงุฒ ุดุฏู (2D)
- โ `stair`: ูพุงุฏูโุณุงุฒ ุดุฏู (2D)
- โ `slab`: ุชุนุฑู ุดุฏู ุงูุง `available: false` (2D)
- โ `volumetric`: ุชุนุฑู ุดุฏู ุงูุง `available: false` (3D - ูุงุฒ ุจู ูพุงุฏูโุณุงุฒ)

#### **ุณุงุฎุชุงุฑ ContractProduct ูุนู**
```typescript
interface ContractProduct {
  productId: string;
  product: Product;
  productType: 'longitudinal' | 'stair';
  
  // ุงุจุนุงุฏ (2 ุจุนุฏ)
  length: number;
  width: number;
  quantity: number;
  squareMeters: number; // ูุชุฑ ูุฑุจุน
  
  // ููุชโฺฏุฐุงุฑ
  pricePerSquareMeter: number;
  totalPrice: number;
  
  // ุจุฑุด (2 ุจุนุฏ)
  isCut: boolean;
  cutType: 'longitudinal' | 'cross' | null;
  originalWidth: number;
  originalLength: number;
  cuttingCost: number;
  cuttingCostPerMeter: number;
  
  // ุจุงููุงูุฏู (2 ุจุนุฏ)
  remainingStones: RemainingStone[];
  cutDetails: StoneCut[];
}
```

**ูฺฉุชู ููู**: ุณุงุฎุชุงุฑ ูุนู ููุท ุจุฑุง 2 ุจุนุฏ (ุทูู ู ุนุฑุถ) ุทุฑุงุญ ุดุฏู ุงุณุช.

### 5.2 ุชูุงุจุน ฺฉูุฏ ููุฌูุฏ

#### **1. calculateStoneMetrics() - ุจุฑุง ุณูฺฏ ุทูู**
```typescript
// ูุญุงุณุจู ูุชุฑ ูุฑุจุนุ ููุชุ ูุฒูู ุจุฑุด (2D)
calculateStoneMetrics({
  length, width, quantity,
  squareMeters, pricePerSquareMeter,
  isCut, originalWidth, cuttingCostPerMeter
})
// Returns: { squareMeters, totalPrice, cuttingCost }
```

#### **2. calculateStoneCutting() - ุจุฑุง ุณูฺฏ ุทูู**
```typescript
// ูุญุงุณุจู ุจุฑุด ุทูู (1 ุจุนุฏ)
calculateStoneCutting({
  originalWidth, desiredWidth, length,
  cuttingCostPerMeter, quantity
})
// Returns: { cutDetails, remainingStone, cuttingCost }
```

#### **3. calculateStairStoneUsage() - ุจุฑุง ุณูฺฏ ูพูู**
```typescript
// ูุญุงุณุจู ุงุณุชูุงุฏู ุงุฒ ุณูฺฏ ุจุฑุง ูพูู (2D)
calculateStairStoneUsage(draft: StairPartDraftV2)
// Returns: { piecesPerStone, baseStoneQuantity, leftoverWidthCm }
```

### 5.3 ููุงุด ุจุตุฑ (StoneCanvas)

#### **ูฺฺฏโูุง ูุนู StoneCanvas**
- โ ูพุดุชุจุงู ุงุฒ ุจุฑุด ุทูู (1 ุจุนุฏ)
- โ ููุงุด ุจุงููุงูุฏูโูุง (2D)
- โ ููุงุด ุงุจุฒุงุฑูุง (SubServices)
- โ ูพุดุชุจุงู ุงุฒ ุจุฑุด ุนุฑุถ (Cross Cut) - ุจุฑุง ุงุณูุจ
- โ ูพุดุชุจุงู ุงุฒ ุจุฑุด ุณู ุจุนุฏ - ุจุฑุง ุณูฺฏ ุญุฌู
- โ ููุงุด ุณู ุจุนุฏ - ูุงุฒ ุจู 3D Canvas ุง WebGL

**ูฺฉุชู**: `StoneCanvas` ูุนู ฺฉ ฺฉุงููพูููุช 2D ุงุณุช ฺฉู ุงุฒ HTML5 Canvas ุงุณุชูุงุฏู ูโฺฉูุฏ.

### 5.4 ุณุงุฎุชุงุฑ RemainingStone ูุนู

```typescript
interface RemainingStone {
  id: string;
  width: number; // ุนุฑุถ ุจุงููุงูุฏู (cm)
  length: number; // ุทูู ุจุงููุงูุฏู (meters)
  squareMeters: number; // ูุชุฑ ูุฑุจุน
  isAvailable: boolean;
  sourceCutId: string;
  position?: {
    startWidth: number;
    startLength: number;
  };
}
```

**ูุดฺฉู**: ุงู ุณุงุฎุชุงุฑ ููุท ุจุฑุง 2 ุจุนุฏ ุทุฑุงุญ ุดุฏู ุงุณุช. ุจุฑุง ุณูฺฏ ุญุฌู ูุงุฒ ุจู ุจุนุฏ ุณูู (ุงุฑุชูุงุน) ุฏุงุฑู.

---

## 6. ุชูุงูุชโูุง ฺฉูุฏ ุจุฑุง ูพุงุฏูโุณุงุฒ

### 6.1 ุชูุงูุชโูุง ุณุงุฎุชุงุฑ

| ูฺฺฏ | ุณูฺฏ ุทูู | ุณูฺฏ ุงุณูุจ | ุณูฺฏ ุญุฌู |
|------|---------|---------|---------|
| **ุงุจุนุงุฏ ูุฑูุฏ** | length, width | length, width | length, width, **height** |
| **ูุงุญุฏ ูุญุงุณุจู** | mยฒ | mยฒ | **mยณ** |
| **ููุฏ ุญุฌู** | โ | โ | โ **cubicMeters** |
| **ููุฏ ุงุฑุชูุงุน** | โ | โ | โ **height** |
| **ููุช ูุฑ ูุงุญุฏ** | pricePerSquareMeter | pricePerSquareMeter | **pricePerCubicMeter** |
| **ุจุฑุด** | 1 ุฌูุช | 2 ุฌูุช | **3 ุฌูุช** |
| **ุจุงููุงูุฏู** | 1 ูุทุนู 2D | ฺูุฏ ูุทุนู 2D | **ฺูุฏ ุจููฺฉ 3D** |

### 6.2 ุชูุงูุชโูุง ูุญุงุณุจุงุช

#### **ูุญุงุณุจู ุญุฌู (ุจู ุฌุง ูุณุงุญุช)**
```typescript
// ุณูฺฏ ุทูู ู ุงุณูุจ
squareMeters = (length ร width ร quantity) / 10000 // cmยฒ โ mยฒ

// ุณูฺฏ ุญุฌู
cubicMeters = (length ร width ร height ร quantity) / 1000000 // cmยณ โ mยณ
```

#### **ููุชโฺฏุฐุงุฑ**
```typescript
// ุณูฺฏ ุทูู ู ุงุณูุจ
totalPrice = squareMeters ร pricePerSquareMeter

// ุณูฺฏ ุญุฌู
totalPrice = cubicMeters ร pricePerCubicMeter
```

#### **ูุฒูู ุจุฑุด**
```typescript
// ุณูฺฏ ุทูู
cuttingCost = (length / 100) ร cuttingCostPerMeter ร quantity

// ุณูฺฏ ุงุณูุจ
cuttingCost = (length + width) / 100 ร cuttingCostPerMeter ร quantity

// ุณูฺฏ ุญุฌู
cuttingCost = (length + width + height) / 100 ร cuttingCostPerMeter ร quantity
```

### 6.3 ุชูุงูุชโูุง ููุงุด ุจุตุฑ

#### **ุณูฺฏ ุทูู ู ุงุณูุจ (2D)**
- ุงุณุชูุงุฏู ุงุฒ HTML5 Canvas 2D
- ููุงุด ูุณุชุทูโูุง ุฏุฑ ุตูุญู
- ููุงุด ุจุฑุดโูุง ุจู ุตูุฑุช ุฎุทูุท

#### **ุณูฺฏ ุญุฌู (3D)**
- ูุงุฒ ุจู WebGL ุง Three.js ุจุฑุง ููุงุด 3D
- ููุงุด ูฺฉุนุจโูุง ู ุจููฺฉโูุง ุฏุฑ ูุถุง ุณูโุจุนุฏ
- ููุงุด ุจุฑุดโูุง ุจู ุตูุฑุช ุตูุญุงุช
- ุงูฺฉุงู ฺุฑุฎุด ู ุฒูู ุจุฑุง ูุดุงูุฏู ุจูุชุฑ

---

## 7. ุงูุฒุงูุงุช ูพุงุฏูโุณุงุฒ

### 7.1 ุงูุฒุงูุงุช ุนููฺฉุฑุฏ (Functional Requirements)

#### **FR1: ุงูุชุฎุงุจ ุจููฺฉ ุญุฌู**
- ฺฉุงุฑุจุฑ ุจุงุฏ ุจุชูุงูุฏ ุจููฺฉ ุฑุง ุงุฒ ูุณุช ูุญุตููุงุช ุงูุชุฎุงุจ ฺฉูุฏ
- ููุงุด ุงุจุนุงุฏ ุงุตู ุจููฺฉ (ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน)
- ููุงุด ุญุฌู ุงุตู ุจููฺฉ (ูุชุฑ ูฺฉุนุจ)

#### **FR2: ุชุนู ุงุจุนุงุฏ ููุฑุฏ ูุงุฒ**
- ฺฉุงุฑุจุฑ ุจุงุฏ ุจุชูุงูุฏ ุงุจุนุงุฏ ููุฑุฏ ูุงุฒ ุฑุง ูุงุฑุฏ ฺฉูุฏ (ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน)
- ูพุดุชุจุงู ุงุฒ ูุงุญุฏูุง cm ู m
- ุงุนุชุจุงุฑุณูุฌ: ุงุจุนุงุฏ ูุจุงุฏ ุงุฒ ุงุจุนุงุฏ ุงุตู ุจููฺฉ ุจุดุชุฑ ุจุงุดุฏ

#### **FR3: ุจุฑุด ุณู ุจุนุฏ**
- ุจุฑุด ุฏุฑ ุฌูุช ุทูู (Longitudinal Cut)
- ุจุฑุด ุฏุฑ ุฌูุช ุนุฑุถ (Cross Cut)
- ุจุฑุด ุฏุฑ ุฌูุช ุงุฑุชูุงุน (Height Cut)
- ูุญุงุณุจู ูุฒูู ุจุฑุด ุจุฑุง ูุฑ ุณู ุฌูุช

#### **FR4: ูุญุงุณุจู ููุช**
- ููุช ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ ุงุณุชูุงุฏู ุดุฏู
- ูุฒูู ุจุฑุด (ุทูู + ุนุฑุถ + ุงุฑุชูุงุน)
- ููุช ฺฉู = (ูุชุฑ ูฺฉุนุจ ร ููุช ูุฑ ูุชุฑ ูฺฉุนุจ) + ูุฒูู ุจุฑุด

#### **FR5: ูุฏุฑุช ุจุงููุงูุฏู**
- ูุญุงุณุจู ุจุงููุงูุฏูโูุง ูพุณ ุงุฒ ุจุฑุด (ฺูุฏ ุจููฺฉ 3D)
- ุฐุฎุฑู ุจุงููุงูุฏูโูุง ุจุฑุง ุงุณุชูุงุฏู ุจุนุฏ
- ููุงุด ุจุงููุงูุฏูโูุง ุฏุฑ ููุงุด ุจุตุฑ 3D

#### **FR6: ููุงุด ุจุตุฑ 3D**
- ููุงุด ุจููฺฉ ุงุตู (ูฺฉุนุจ 3D)
- ููุงุด ูุงุญู ุงุณุชูุงุฏู ุดุฏู
- ููุงุด ุจุงููุงูุฏูโูุง (ฺูุฏ ุจููฺฉ 3D)
- ููุงุด ุจุฑุดโูุง (ุตูุญุงุช 3D)
- ุงูฺฉุงู ฺุฑุฎุด ู ุฒูู

### 7.2 ุงูุฒุงูุงุช ุบุฑุนููฺฉุฑุฏ (Non-Functional Requirements)

#### **NFR1: ฺฉุงุฑุง**
- ูุญุงุณุจุงุช ุจุงุฏ ุณุฑุน ุงูุฌุงู ุดููุฏ
- ููุงุด ุจุตุฑ 3D ุจุงุฏ ุฑูุงู ุจุงุดุฏ (60 FPS)

#### **NFR2: ูุงุจูุช ุงุณุชูุงุฏู**
- ุฑุงุจุท ฺฉุงุฑุจุฑ ุจุงุฏ ุณุงุฏู ู ูุงุจู ููู ุจุงุดุฏ
- ููุงุด 3D ุจุงุฏ ูุงุถุญ ู ูุงุจู ุฏุฑฺฉ ุจุงุดุฏ

#### **NFR3: ุณุงุฒฺฏุงุฑ**
- ุจุงุฏ ุจุง ุณุณุชู ูุนู ุณุงุฒฺฏุงุฑ ุจุงุดุฏ
- ุจุงุฏ ุงุฒ ููุงู ุณุงุฎุชุงุฑ ุฏุงุฏู ุงุณุชูุงุฏู ฺฉูุฏ (ุจุง ุงูุฒูุฏู ููุฏูุง ุฌุฏุฏ)

---

## 8. ูพุดููุงุฏุงุช ุทุฑุงุญ

### 8.1 ุณุงุฎุชุงุฑ ุฏุงุฏู ูพุดููุงุฏ

#### **ุงูุฒูุฏู ุจู ContractProduct**
```typescript
interface ContractProduct {
  // ... ููุฏูุง ููุฌูุฏ
  
  // ุจุฑุง ุณูฺฏ ุญุฌู
  volumetric?: {
    originalLength: number; // ุทูู ุงุตู ุจููฺฉ (cm)
    originalWidth: number; // ุนุฑุถ ุงุตู ุจููฺฉ (cm)
    originalHeight: number; // ุงุฑุชูุงุน ุงุตู ุจููฺฉ (cm)
    originalVolume: number; // ุญุฌู ุงุตู ุจููฺฉ (mยณ)
    
    // ุงุจุนุงุฏ ุงุณุชูุงุฏู ุดุฏู
    usedLength: number; // ุทูู ุงุณุชูุงุฏู ุดุฏู (cm)
    usedWidth: number; // ุนุฑุถ ุงุณุชูุงุฏู ุดุฏู (cm)
    usedHeight: number; // ุงุฑุชูุงุน ุงุณุชูุงุฏู ุดุฏู (cm)
    usedVolume: number; // ุญุฌู ุงุณุชูุงุฏู ุดุฏู (mยณ)
    
    // ุจุฑุดโูุง
    longitudinalCuts: number; // ุชุนุฏุงุฏ ุจุฑุดโูุง ุทูู
    crossCuts: number; // ุชุนุฏุงุฏ ุจุฑุดโูุง ุนุฑุถ
    heightCuts: number; // ุชุนุฏุงุฏ ุจุฑุดโูุง ุงุฑุชูุงุน
    
    // ุจุงููุงูุฏูโูุง (ฺูุฏ ุจููฺฉ 3D)
    remainingBlocks: RemainingVolumetricBlock[];
  };
  
  // ููุฏูุง ุฌุฏุฏ ุจุฑุง ุณูฺฏ ุญุฌู
  height?: number; // ุงุฑุชูุงุน (cm)
  heightUnit?: 'cm' | 'm'; // ูุงุญุฏ ุงุฑุชูุงุน
  cubicMeters?: number; // ูุชุฑ ูฺฉุนุจ
  pricePerCubicMeter?: number; // ููุช ูุฑ ูุชุฑ ูฺฉุนุจ
}

interface RemainingVolumetricBlock {
  id: string;
  length: number; // ุทูู ุจุงููุงูุฏู (cm)
  width: number; // ุนุฑุถ ุจุงููุงูุฏู (cm)
  height: number; // ุงุฑุชูุงุน ุจุงููุงูุฏู (cm)
  volume: number; // ุญุฌู ุจุงููุงูุฏู (mยณ)
  position: {
    startLength: number; // ูููุนุช ุดุฑูุน ุฏุฑ ุทูู (cm)
    startWidth: number; // ูููุนุช ุดุฑูุน ุฏุฑ ุนุฑุถ (cm)
    startHeight: number; // ูููุนุช ุดุฑูุน ุฏุฑ ุงุฑุชูุงุน (cm)
  };
  isAvailable: boolean;
}
```

### 8.2 ุชูุงุจุน ูพุดููุงุฏ

#### **1. calculateVolumetricMetrics()**
```typescript
function calculateVolumetricMetrics(data: {
  length: number;
  width: number;
  height: number; // ุจุนุฏ ุณูู
  quantity: number;
  cubicMeters?: number;
  pricePerCubicMeter: number;
  lengthUnit?: 'cm' | 'm';
  widthUnit?: 'cm' | 'm';
  heightUnit?: 'cm' | 'm';
  isCut?: boolean;
  originalLength?: number;
  originalWidth?: number;
  originalHeight?: number;
  cuttingCostPerMeter?: number;
}) {
  // ูุญุงุณุจู ุญุฌู
  // ูุญุงุณุจู ููุช
  // ูุญุงุณุจู ูุฒูู ุจุฑุด
  return {
    cubicMeters: number,
    totalPrice: number,
    cuttingCost: number
  };
}
```

#### **2. calculateVolumetricCutting()**
```typescript
function calculateVolumetricCutting(data: {
  originalLength: number;
  originalWidth: number;
  originalHeight: number;
  desiredLength: number;
  desiredWidth: number;
  desiredHeight: number;
  cuttingCostPerMeter: number;
}) {
  // ูุญุงุณุจู ุจุฑุดโูุง ุฏุฑ ุณู ุฌูุช
  // ูุญุงุณุจู ุจุงููุงูุฏูโูุง (ฺูุฏ ุจููฺฉ 3D)
  // ูุญุงุณุจู ูุฒูู ุจุฑุด
  return {
    cutDetails: [...],
    remainingBlocks: [...],
    totalCuttingCost: number
  };
}
```

### 8.3 ุฑุงุจุท ฺฉุงุฑุจุฑ ูพุดููุงุฏ

#### **ูุฑุญูู 1: ุงูุชุฎุงุจ ุจููฺฉ**
- ููุงุด ูุณุช ุจููฺฉโูุง ููุฌูุฏ
- ููุชุฑ ุจุฑ ุงุณุงุณ ููุนุ ุงุจุนุงุฏุ ุญุฌูุ ููุช
- ููุงุด ุชุตูุฑ ู ูุดุฎุตุงุช (ุจุง ุงุจุนุงุฏ ุณูโุจุนุฏ)

#### **ูุฑุญูู 2: ุชุนู ุงุจุนุงุฏ**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงุจุนุงุฏ ุจููฺฉ ุงุตู                 โ
โ ุทูู: 100 cm  ุนุฑุถ: 80 cm        โ
โ ุงุฑุชูุงุน: 60 cm                  โ
โ ุญุฌู: 0.48 mยณ                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุงุจุนุงุฏ ููุฑุฏ ูุงุฒ                 โ
โ ุทูู: [____] cm/m                โ
โ ุนุฑุถ: [____] cm/m                โ
โ ุงุฑุชูุงุน: [____] cm/m            โ
โ ุชุนุฏุงุฏ: [____]                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ูุญุงุณุจู ุฎูุฏฺฉุงุฑ                   โ
โ ุญุฌู: 0.06 mยณ                   โ
โ ููุช: 120,000 ุชููุงู             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

#### **ูุฑุญูู 3: ููุงุด ุจุตุฑ 3D**
- ุงุณุชูุงุฏู ุงุฒ Three.js ุง WebGL
- ููุงุด ุจููฺฉ ุงุตู (ูฺฉุนุจ 3D)
- ููุงุด ูุงุญู ุงุณุชูุงุฏู ุดุฏู
- ููุงุด ุจุงููุงูุฏูโูุง (ฺูุฏ ุจููฺฉ 3D)
- ุงูฺฉุงู ฺุฑุฎุด ู ุฒูู

### 8.4 ููุทู ุจุฑุด ุณู ุจุนุฏ

#### **ุณูุงุฑู 1: ฺฉ ูุทุนู ุงุฒ ุจููฺฉ**
```
ุจููฺฉ ุงุตู: 100cm ร 80cm ร 60cm
ูุทุนู ููุฑุฏ ูุงุฒ: 50cm ร 40cm ร 30cm

ุจุฑุดโูุง:
- 1 ุจุฑุด ุทูู (100cm โ 50cm + 50cm)
- 1 ุจุฑุด ุนุฑุถ (80cm โ 40cm + 40cm)
- 1 ุจุฑุด ุงุฑุชูุงุน (60cm โ 30cm + 30cm)

ุจุงููุงูุฏู: 7 ุจููฺฉ 3D
- ุจููฺฉ 1: 50cm ร 40cm ร 30cm (ูููุนุช: 0, 0, 0) - ุงุณุชูุงุฏู ุดุฏู
- ุจููฺฉ 2: 50cm ร 40cm ร 30cm (ูููุนุช: 50, 0, 0)
- ุจููฺฉ 3: 50cm ร 40cm ร 30cm (ูููุนุช: 0, 40, 0)
- ุจููฺฉ 4: 50cm ร 40cm ร 30cm (ูููุนุช: 50, 40, 0)
- ุจููฺฉ 5: 50cm ร 40cm ร 30cm (ูููุนุช: 0, 0, 30)
- ุจููฺฉ 6: 50cm ร 40cm ร 30cm (ูููุนุช: 50, 0, 30)
- ุจููฺฉ 7: 50cm ร 40cm ร 30cm (ูููุนุช: 0, 40, 30)
- ุจููฺฉ 8: 50cm ร 40cm ร 30cm (ูููุนุช: 50, 40, 30)
```

### 8.5 ุจูโุฑูุฒุฑุณุงู ููุงุด ุจุตุฑ

#### **ฺฏุฒูู 1: ุงุณุชูุงุฏู ุงุฒ Three.js**
```typescript
import * as THREE from 'three';

// ุงุฌุงุฏ ุตุญูู 3D
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ canvas: canvasRef.current });

// ุฑุณู ุจููฺฉ ุงุตู
const originalBlock = new THREE.BoxGeometry(
  originalLength / 100, // ุชุจุฏู cm ุจู m
  originalWidth / 100,
  originalHeight / 100
);
const originalMesh = new THREE.Mesh(originalBlock, material);
scene.add(originalMesh);

// ุฑุณู ูุงุญู ุงุณุชูุงุฏู ุดุฏู
const usedBlock = new THREE.BoxGeometry(
  usedLength / 100,
  usedWidth / 100,
  usedHeight / 100
);
const usedMesh = new THREE.Mesh(usedBlock, usedMaterial);
scene.add(usedMesh);

// ุฑุณู ุจุงููุงูุฏูโูุง
remainingBlocks.forEach(block => {
  const remainingGeometry = new THREE.BoxGeometry(
    block.length / 100,
    block.width / 100,
    block.height / 100
  );
  const remainingMesh = new THREE.Mesh(remainingGeometry, remainingMaterial);
  remainingMesh.position.set(
    block.position.startLength / 100,
    block.position.startWidth / 100,
    block.position.startHeight / 100
  );
  scene.add(remainingMesh);
});
```

#### **ฺฏุฒูู 2: ุงุณุชูุงุฏู ุงุฒ CSS 3D Transforms**
- ุณุงุฏูโุชุฑ ุงูุง ูุญุฏูุฏุชุฑ
- ููุงุณุจ ุจุฑุง ููุงุด ุณุงุฏู
- ุนููฺฉุฑุฏ ฺฉูุชุฑ ุงุฒ WebGL

---

## 9. ุฎูุงุตู ู ุชูุตูโูุง

### 9.1 ุฎูุงุตู ุชูุงูุชโูุง

| ูฺฺฏ | ุณูฺฏ ุทูู | ุณูฺฏ ุงุณูุจ | ุณูฺฏ ุญุฌู |
|------|---------|---------|---------|
| **ุงุจุนุงุฏ** | 2D (ุทูู ร ุนุฑุถ) | 2D (ุทูู ร ุนุฑุถ) | **3D (ุทูู ร ุนุฑุถ ร ุงุฑุชูุงุน)** |
| **ูุงุญุฏ** | mยฒ | mยฒ | **mยณ** |
| **ุจุฑุด** | 1 ุฌูุช | 2 ุฌูุช | **3 ุฌูุช** |
| **ุจุงููุงูุฏู** | 1 ูุทุนู 2D | ฺูุฏ ูุทุนู 2D | **ฺูุฏ ุจููฺฉ 3D** |
| **ููุงุด** | Canvas 2D | Canvas 2D | **WebGL/Three.js 3D** |
| **ูพฺุฏฺฏ** | ูุชูุณุท | ุจุงูุง | **ุฎู ุจุงูุง** |

### 9.2 ุชูุตูโูุง ูพุงุฏูโุณุงุฒ

1. **ฺฏุงู 1**: ุงูุฒูุฏู ููุฏ `height` ู `cubicMeters` ุจู `ContractProduct`
2. **ฺฏุงู 2**: ุงุฌุงุฏ ุชูุงุจุน ูุญุงุณุจู ุญุฌู ู ุจุฑุด ุณู ุจุนุฏ
3. **ฺฏุงู 3**: ุจูโุฑูุฒุฑุณุงู ููุงุด ุจุตุฑ ุจุฑุง 3D (Three.js)
4. **ฺฏุงู 4**: ุงุฌุงุฏ ุฑุงุจุท ฺฉุงุฑุจุฑ ุจุฑุง ุงูุชุฎุงุจ ู ุชุนู ุงุจุนุงุฏ ุณู ุจุนุฏ
5. **ฺฏุงู 5**: ุชุณุช ุจุง ุณูุงุฑููุง ูุฎุชูู

### 9.3 ูฺฉุงุช ููู

- ุณูฺฏ ุญุฌู ูพฺุฏูโุชุฑู ููุน ุงุณุช
- ูุงุฒ ุจู ููุงุด ุจุตุฑ 3D ุฏุงุฑุฏ (WebGL/Three.js)
- ูุญุงุณุจุงุช ุจุฑ ุงุณุงุณ ูุชุฑ ูฺฉุนุจ ุงุณุช (ูู ูุชุฑ ูุฑุจุน)
- ุจุงููุงูุฏูโูุง ูโุชูุงููุฏ ฺูุฏ ุจููฺฉ 3D ุจุงุดูุฏ
- ุจุฑุด ุฏุฑ ุณู ุฌูุช ุงูุฌุงู ูโุดูุฏ

### 9.4 ฺุงูุดโูุง ูพุด ุฑู

1. **ููุงุด 3D**: ูุงุฒ ุจู ฺฉุชุงุจุฎุงูู 3D (Three.js ุง Babylon.js)
2. **ูุญุงุณุจุงุช ูพฺุฏู**: ุจุฑุด ุณู ุจุนุฏ ู ุจุงููุงูุฏูโูุง ฺูุฏฺฏุงูู
3. **ฺฉุงุฑุง**: ููุงุด 3D ุจุงุฏ ุฑูุงู ุจุงุดุฏ
4. **ูุงุจูุช ุงุณุชูุงุฏู**: ุฑุงุจุท ฺฉุงุฑุจุฑ ุจุงุฏ ุณุงุฏู ู ูุงุจู ููู ุจุงุดุฏ

---

## 10. ููุงุจุน ู ูุฑุงุฌุน

- [Three.js Documentation](https://threejs.org/docs/)
- [WebGL Fundamentals](https://webglfundamentals.org/)
- [Stone Block Dimensions - Industry Standards](https://www.stoneindustry.com/)

---

**ุชุงุฑุฎ ุงุฌุงุฏ**: 2025-01-20  
**ูุณุฎู**: 1.0  
**ููุณูุฏู**: AI Assistant

